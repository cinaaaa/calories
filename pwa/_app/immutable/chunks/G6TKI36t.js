import{al as Z,F as $,am as ee,an as j,k as te,ao as Y,q as w,i as _,h as p,Q as v,ap as H,t as se,v as re,x as ie,f as g,e as G,aq as x,p as F,m as ae,ar as ne,as as S,at as D,au as P,av as fe,aw as J,j as K,ax as q,ay as he,az as V,aA as oe,aB as le,d as O,z as N,aC as ce,y as ue,aD as W,aE as de,E as _e,aF as pe,aG as ge,C as ve,B as ye,aH as be,aI as k,$ as me,a7 as Q,H as Ee,a8 as we,aJ as M,A as T,aK as Te,aL as Re,aM as Se,aN as De,ag as Ne,aO as Ae,aP as xe,ah as Fe}from"./BTEy9aSn.js";import{b as Oe}from"./C561E-ns.js";function ke(t){let e=0,s=j(0),i;return()=>{Z()&&($(s),ee(()=>(e===0&&(i=te(()=>t(()=>Y(s)))),e+=1,()=>{w(()=>{e-=1,e===0&&(i?.(),i=void 0,Y(s))})})))}}var Me=_e|pe;function Be(t,e,s){new Ce(t,e,s)}class Ce{parent;is_pending=!1;#t;#p=p?_:null;#a;#o;#s;#r=null;#e=null;#i=null;#n=null;#l=0;#h=0;#c=!1;#u=new Set;#d=new Set;#f=null;#y=ke(()=>(this.#f=j(this.#l),()=>{this.#f=null}));constructor(e,s,i){this.#t=e,this.#a=s,this.#o=a=>{var r=v;r.b=this,r.f|=H,i(a)},this.parent=v.b,this.#s=se(()=>{if(p){const a=this.#p;re(),a.data===ie?this.#m():this.#b()}else this.#g()},Me),p&&(this.#t=_)}#b(){try{this.#r=g(()=>this.#o(this.#t))}catch(e){this.error(e)}}#m(){const e=this.#a.pending;e&&(this.is_pending=!0,this.#e=g(()=>e(this.#t)),w(()=>{var s=this.#n=document.createDocumentFragment(),i=G();s.append(i),this.#r=this.#_(()=>(x.ensure(),g(()=>this.#o(i)))),this.#h===0&&(this.#t.before(s),this.#n=null,F(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#h=0,this.#l=0,this.#r=g(()=>{this.#o(this.#t)}),this.#h>0){var e=this.#n=document.createDocumentFragment();ae(this.#r,e);const s=this.#a.pending;this.#e=g(()=>s(this.#t))}else this.is_pending=!1}catch(s){this.error(s)}}defer_effect(e){ne(e,this.#u,this.#d)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#a.pending}#_(e){var s=v,i=J,a=K;S(this.#s),D(this.#s),P(this.#s.ctx);try{return e()}catch(r){return fe(r),null}finally{S(s),D(i),P(a)}}#v(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(e);return}if(this.#h+=e,this.#h===0){this.is_pending=!1;for(const s of this.#u)q(s,he),V(s);for(const s of this.#d)q(s,oe),V(s);this.#u.clear(),this.#d.clear(),this.#e&&F(this.#e,()=>{this.#e=null}),this.#n&&(this.#t.before(this.#n),this.#n=null)}}update_pending_count(e){this.#v(e),this.#l+=e,!(!this.#f||this.#c)&&(this.#c=!0,w(()=>{this.#c=!1,this.#f&&le(this.#f,this.#l)}))}get_effect_pending(){return this.#y(),$(this.#f)}error(e){var s=this.#a.onerror;let i=this.#a.failed;if(!s&&!i)throw e;this.#r&&(O(this.#r),this.#r=null),this.#e&&(O(this.#e),this.#e=null),this.#i&&(O(this.#i),this.#i=null),p&&(N(this.#p),ce(),N(ue()));var a=!1,r=!1;const n=()=>{if(a){ge();return}a=!0,r&&de(),this.#i!==null&&F(this.#i,()=>{this.#i=null}),this.#_(()=>{x.ensure(),this.#g()})};w(()=>{try{r=!0,s?.(e,n),r=!1}catch(f){W(f,this.#s&&this.#s.parent)}i&&(this.#i=this.#_(()=>{x.ensure();try{return g(()=>{var f=v;f.b=this,f.f|=H,i(this.#t,()=>e,()=>n)})}catch(f){return W(f,this.#s.parent),null}}))})}}const Ie=["touchstart","touchmove"];function Le(t){return Ie.includes(t)}const E=Symbol("events"),U=new Set,B=new Set;function Ye(t,e,s,i={}){function a(r){if(i.capture||C.call(e,r),!r.cancelBubble)return be(()=>s?.call(this,r))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?w(()=>{e.addEventListener(t,a,i)}):e.addEventListener(t,a,i),a}function Ve(t,e,s,i,a){var r={capture:i,passive:a},n=Ye(t,e,s,r);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ye(()=>{e.removeEventListener(t,n,r)})}function We(t,e,s){(e[E]??={})[t]=s}function ze(t){for(var e=0;e<t.length;e++)U.add(t[e]);for(var s of B)s(t)}let z=null;function C(t){var e=this,s=e.ownerDocument,i=t.type,a=t.composedPath?.()||[],r=a[0]||t.target;z=t;var n=0,f=z===t&&t[E];if(f){var y=a.indexOf(f);if(y!==-1&&(e===document||e===window)){t[E]=e;return}var d=a.indexOf(e);if(d===-1)return;y<=d&&(n=y)}if(r=a[n]||t.target,r!==e){ve(t,"currentTarget",{configurable:!0,get(){return r||s}});var b=J,m=v;D(null),S(null);try{for(var h,l=[];r!==null;){var o=r.assignedSlot||r.parentNode||r.host||null;try{var u=r[E]?.[i];u!=null&&(!r.disabled||t.target===r)&&u.call(r,t)}catch(c){h?l.push(c):h=c}if(t.cancelBubble||o===e||o===null)break;r=o}if(h){for(let c of l)queueMicrotask(()=>{throw c});throw h}}finally{t[E]=e,delete t.currentTarget,D(b),S(m)}}}function $e(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}function He(t,e){return X(t,e)}function je(t,e){k(),e.intro=e.intro??!1;const s=e.target,i=p,a=_;try{for(var r=me(s);r&&(r.nodeType!==Q||r.data!==Ee);)r=we(r);if(!r)throw M;T(!0),N(r);const n=X(t,{...e,anchor:r});return T(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(f=>f.startsWith("https://svelte.dev/e/")))throw n;return n!==M&&console.warn("Failed to hydrate: ",n),e.recover===!1&&Te(),k(),Re(s),T(!1),He(t,e)}finally{T(i),N(a)}}const R=new Map;function X(t,{target:e,anchor:s,props:i={},events:a,context:r,intro:n=!0}){k();var f=void 0,y=Se(()=>{var d=s??e.appendChild(G());Be(d,{pending:()=>{}},h=>{Ne({});var l=K;if(r&&(l.c=r),a&&(i.$$events=a),p&&Oe(h,null),f=t(h,i)||{},p&&(v.nodes.end=_,_===null||_.nodeType!==Q||_.data!==Ae))throw xe(),M;Fe()});var b=new Set,m=h=>{for(var l=0;l<h.length;l++){var o=h[l];if(!b.has(o)){b.add(o);var u=Le(o);for(const A of[e,document]){var c=R.get(A);c===void 0&&(c=new Map,R.set(A,c));var L=c.get(o);L===void 0?(A.addEventListener(o,C,{passive:u}),c.set(o,1)):c.set(o,L+1)}}}};return m(De(U)),B.add(m),()=>{for(var h of b)for(const u of[e,document]){var l=R.get(u),o=l.get(h);--o==0?(u.removeEventListener(h,C),l.delete(h),l.size===0&&R.delete(u)):l.set(h,o)}B.delete(m),d!==s&&d.parentNode?.removeChild(d)}});return I.set(f,y),f}let I=new WeakMap;function Ge(t,e){const s=I.get(t);return s?(I.delete(t),s(e)):Promise.resolve()}export{We as a,ze as d,Ve as e,je as h,He as m,$e as s,Ge as u};
